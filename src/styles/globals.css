@import "tailwindcss";

@theme {
  --color-brand-600: #00c2ff;
  --color-brand-700: #0091bf;
  --color-surface: #1a2238;
  --color-ink: #f0f6fc;
}

@layer base {
  body {
    background-color: var(--color-surface);
    color: var(--color-ink);
  }
}

@layer utilities {
  /* Custom container utility */
  .container {
    @apply max-w-6xl px-4 mx-auto;
  }
  
  /* Text balance utility */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Line clamp utility */
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Fade-in animation utility */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s ease-out forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Accessibility: Focus-visible styles for all interactive elements */
  .focus-visible {
    @apply focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-600;
  }

  /* Enhanced focus styles for better visibility */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [tabindex]:focus-visible {
    @apply outline-2 outline-offset-2 outline-brand-600;
  }

  /* Skip link styles */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-50 bg-white text-gray-900 px-4 py-2 rounded-md shadow-lg border border-gray-300;
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    /* Disable hover effects that might cause motion */
    .group:hover .group-hover\:scale-105 {
      transform: none !important;
    }
    
    /* Disable transform transitions */
    .group-hover\:scale-105 {
      transition: none !important;
    }
    
    /* Disable shadow transitions */
    .hover\:shadow-md,
    .hover\:shadow-lg {
      transition: none !important;
    }
    
    /* Disable color transitions */
    .transition-colors {
      transition: none !important;
    }
    
    /* Disable transform transitions */
    .transition-transform {
      transition: none !important;
    }
    
    /* Disable fade-in animation for reduced motion */
    .fade-in {
      opacity: 1 !important;
      transform: none !important;
      animation: none !important;
    }
  }
  
  /* Mobile menu CSS-only implementation */
  .mobile-menu-toggle {
    @apply relative inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus-visible cursor-pointer;
  }
  
  .mobile-menu-toggle input[type="checkbox"] {
    @apply sr-only;
  }
  
  .mobile-menu-toggle input[type="checkbox"]:checked ~ .menu-icon {
    @apply hidden;
  }
  
  .mobile-menu-toggle input[type="checkbox"]:checked ~ .close-icon {
    @apply block;
  }
  
  .mobile-menu-toggle input[type="checkbox"]:not(:checked) ~ .close-icon {
    @apply hidden;
  }
  
  .mobile-menu {
    @apply md:hidden;
  }
  
  .mobile-menu[data-state="closed"] {
    @apply hidden;
  }
  
  .mobile-menu[data-state="open"] {
    @apply block;
  }
  
  /* CSS-only mobile menu using :has() pseudo-class */
  @supports selector(:has(*)) {
    .mobile-menu-toggle:has(input:checked) ~ .mobile-menu {
      @apply block;
    }
    
    .mobile-menu-toggle:has(input:not(:checked)) ~ .mobile-menu {
      @apply hidden;
    }
    
    .mobile-menu-toggle:has(input:checked) .menu-icon {
      @apply hidden;
    }
    
    .mobile-menu-toggle:has(input:checked) .close-icon {
      @apply block;
    }
    
    .mobile-menu-toggle:has(input:not(:checked)) .close-icon {
      @apply hidden;
    }
  }
  
  /* Fallback for browsers without :has() support */
  @supports not selector(:has(*)) {
    .mobile-menu {
      @apply hidden;
    }
    
    .mobile-menu-toggle input:checked ~ .mobile-menu {
      @apply block;
    }
  }
}
