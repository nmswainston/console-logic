@import "tailwindcss";

/* Theme tokens (Tailwind v4 @theme) */
@theme {
  --font-sans: Inter, ui-sans-serif, system-ui, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --font-display: Urbanist, var(--font-sans);
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --color-surface: oklch(18% 0.02 260);
  --color-elevated: oklch(22% 0.02 260);
  --color-foreground: oklch(96% 0.01 260);
  --color-muted-foreground: oklch(72% 0.02 260);
  --color-border: oklch(35% 0.02 260);

  /* Accent: “terminal green” */
  --color-terminal-green: #00e676;
  --color-terminal-green-hover: #00f07a;
  --color-accent: oklch(80% 0.12 150);
}

/* Short aliases mapped to tokens for readability */
:root {
  --surface: var(--color-surface);
  --elevated: var(--color-elevated);
  --foreground: var(--color-foreground);
  --muted-foreground: var(--color-muted-foreground);
  --border: var(--color-border);
  --terminal: var(--color-terminal-green);
  --accent: var(--color-accent);
}

html { color-scheme: dark; }
body {
  font-family: var(--font-sans);
  background: var(--surface);
  color: var(--foreground);
}

/* Utility classes */
.text-terminal-green { color: var(--terminal); }
.text-accent { color: var(--accent); }
.bg-surface { background: var(--surface); }
.bg-elevated { background: var(--elevated); }
.border-border { border-color: var(--border); }
.text-muted-foreground { color: var(--muted-foreground); }
.text-muted { color: var(--muted-foreground); }
.text-foreground { color: var(--foreground); }
.text-foreground\/90 { color: color-mix(in oklab, var(--foreground) 90%, transparent 10%); }
.bg-terminal-green { background: var(--terminal); }
.font-display { font-family: var(--font-display); }

/* Accessible focus ring utility */
.focus-ring { outline: 2px solid transparent; outline-offset: 2px; }
.focus-ring:focus-visible { outline-color: var(--terminal); box-shadow: 0 0 0 3px color-mix(in oklab, var(--terminal), transparent 75%); border-radius: 0.5rem; }

/* Skip link */
.skip-link {
  position: absolute;
  left: 1rem;
  top: -100px;
  padding: 0.5rem 0.75rem;
  background: var(--elevated);
  color: var(--foreground);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--terminal), transparent 80%);
  z-index: 1000;
}
.skip-link:focus { top: 1rem; }

/* Buttons */
.btn {
  @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm transition focus:outline-none focus:ring-2 focus:ring-offset-0;
  border: 1px solid color-mix(in oklab, var(--border), transparent 10%);
  background: color-mix(in oklab, var(--elevated), transparent 10%);
}
.btn:hover { box-shadow: 0 0 0 1px color-mix(in oklab, var(--border), transparent 20%); }
.btn-primary {
  color: black;
  background: var(--terminal);
  border-color: var(--terminal);
}
.btn-primary:hover { background: var(--color-terminal-green-hover); border-color: var(--color-terminal-green-hover); }
.btn-ghost {
  background: transparent;
}

/* Form elements */
.input, .textarea {
  @apply w-full rounded-lg bg-transparent px-3 py-2 text-sm;
  border: 1px solid var(--border);
}
.input:focus, .textarea:focus { outline: none; box-shadow: 0 0 0 2px color-mix(in oklab, var(--terminal), transparent 70%); }

/* Cards */
.card {
  @apply rounded-xl border p-4 transition;
  border-color: var(--border);
  background: var(--elevated);
}
.card-title { @apply font-medium; }
.card-text { @apply text-sm text-muted-foreground; }

/* Subtle terminal glow */
.shadow-glow { box-shadow: 0 0 8px 0 color-mix(in oklab, var(--terminal), transparent 82%); }

/* Blinking caret */
@keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }
.caret { animation: blink 1.2s steps(1, end) infinite; }
